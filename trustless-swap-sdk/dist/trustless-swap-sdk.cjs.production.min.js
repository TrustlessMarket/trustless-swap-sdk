"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n,r,a=require("@ethersproject/abi"),i=e(require("jsbi")),u=require("ethers"),o=require("@ethersproject/address"),s=e(require("tiny-invariant")),p=e(require("decimal.js-light")),c=e(require("big.js")),l=e(require("toformat")),d=require("@ethersproject/solidity"),y=e(require("bignumber.js")),m=require("lodash"),f=e(require("lodash/camelCase")),T=e(require("axios"));function h(){h=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=Object.create((t&&t.prototype instanceof T?t:T).prototype),u=new R(r||[]);return a(i,"_invoke",{value:C(e,n,u)}),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",y="executing",m="completed",f={};function T(){}function x(){}function v(){}var b={};p(b,u,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,u)&&(b=w);var g=v.prototype=T.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,i,u,o){var s=l(e[a],e,i);if("throw"!==s.type){var p=s.arg,c=p.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,u,o)}),(function(e){n("throw",e,u,o)})):t.resolve(c).then((function(e){p.value=e,u(p)}),(function(e){return n("throw",e,u,o)}))}o(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function C(t,n,r){var a=d;return function(i,u){if(a===y)throw new Error("Generator is already running");if(a===m){if("throw"===i)throw u;return{value:e,done:!0}}for(r.method=i,r.arg=u;;){var o=r.delegate;if(o){var s=E(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var p=l(t,n,r);if("normal"===p.type){if(a=r.done?m:"suspendedYield",p.arg===f)continue;return{value:p.arg,done:r.done}}"throw"===p.type&&(a=m,r.method="throw",r.arg=p.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var u=i.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return x.prototype=v,a(g,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:x,configurable:!0}),x.displayName=p(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,p(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},t.awrap=function(e){return{__await:e}},A(I.prototype),p(I.prototype,o,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var u=new I(c(e,n,r,a),i);return t.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},A(g),p(g,s,"Generator"),p(g,u,(function(){return this})),p(g,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],o=u.completion;if("root"===u.tryLoc)return a("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),p=r.call(u,"finallyLoc");if(s&&p){if(this.prev<u.catchLoc)return a(u.catchLoc,!0);if(this.prev<u.finallyLoc)return a(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return a(u.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return a(u.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=e,u.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}function x(e,t,n,r,a,i,u){try{var o=e[i](u),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){x(i,r,a,u,o,"next",e)}function o(e){x(i,r,a,u,o,"throw",e)}u(void 0)}))}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?a:String(a),r)}var a}function k(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n,r;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n=e,r=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(n,r)}function A(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n=exports.TradeType||(exports.TradeType={}))[n.EXACT_INPUT=0]="EXACT_INPUT",n[n.EXACT_OUTPUT=1]="EXACT_OUTPUT",(r=exports.Rounding||(exports.Rounding={}))[r.ROUND_DOWN=0]="ROUND_DOWN",r[r.ROUND_HALF_UP=1]="ROUND_HALF_UP",r[r.ROUND_UP=2]="ROUND_UP";var E,O=i.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),S=u.BigNumber.from(2).pow(128).sub(1);(E=exports.FeeAmount||(exports.FeeAmount={}))[E.LOWEST=100]="LOWEST",E[E.LOW=500]="LOW",E[E.MEDIUM=3e3]="MEDIUM",E[E.HIGH=1e4]="HIGH";var R=((t={})[exports.FeeAmount.LOWEST]=1,t[exports.FeeAmount.LOW]=10,t[exports.FeeAmount.MEDIUM]=60,t[exports.FeeAmount.HIGH]=200,t),N="0x0000000000000000000000000000000000000000",P="0x04759a882be3a45ff74719de5c82516d29af4b3480d076fc0c57b2fdab813bc7",_=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function allowance(address owner, address spender) external view returns (uint256)","function transfer(address to, uint amount) returns (bool)","function approve(address _spender, uint256 _value) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],q=["function deposit() payable","function withdraw(uint wad) public"],M=["function balanceOf(address _owner) view returns (uint256)","function tokenOfOwnerByIndex(address _owner, uint256 _index) view returns (uint256)","function tokenURI(uint256 tokenId) view returns (string memory)","function positions(uint256 tokenId) external view returns (uint96 nonce, address operator, address token0, address token1, uint24 fee, int24 tickLower, int24 tickUpper, uint128 liquidity, uint256 feeGrowthInside0LastX128, uint256 feeGrowthInside1LastX128, uint128 tokensOwed0, uint128 tokensOwed1)"];function F(e){try{return o.getAddress(e)}catch(t){throw new Error(e+" is not a valid address.")}}var D,L,B=/^0x[0-9a-fA-F]{40}$/,U=l(p),X=l(c),G=((D={})[exports.Rounding.ROUND_DOWN]=U.ROUND_DOWN,D[exports.Rounding.ROUND_HALF_UP]=U.ROUND_HALF_UP,D[exports.Rounding.ROUND_UP]=U.ROUND_UP,D),W=((L={})[exports.Rounding.ROUND_DOWN]=0,L[exports.Rounding.ROUND_HALF_UP]=1,L[exports.Rounding.ROUND_UP]=3,L),H=function(){function e(e,t){void 0===t&&(t=i.BigInt(1)),this.numerator=i.BigInt(e),this.denominator=i.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof i||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return i.equal(this.denominator,n.denominator)?new e(i.add(this.numerator,n.numerator),this.denominator):new e(i.add(i.multiply(this.numerator,n.denominator),i.multiply(n.numerator,this.denominator)),i.multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return i.equal(this.denominator,n.denominator)?new e(i.subtract(this.numerator,n.numerator),this.denominator):new e(i.subtract(i.multiply(this.numerator,n.denominator),i.multiply(n.numerator,this.denominator)),i.multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return i.lessThan(i.multiply(this.numerator,n.denominator),i.multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return i.equal(i.multiply(this.numerator,n.denominator),i.multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return i.greaterThan(i.multiply(this.numerator,n.denominator),i.multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(i.multiply(this.numerator,n.numerator),i.multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(i.multiply(this.numerator,n.denominator),i.multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||s(!1),e>0||s(!1),U.set({precision:e+1,rounding:G[n]});var r=new U(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||s(!1),e>=0||s(!1),X.DP=e,X.RM=W[n],new X(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},k(e,[{key:"quotient",get:function(){return i.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(i.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),j=l(c),V=function(e){function t(t,n,r){var a;return a=e.call(this,n,r)||this,i.lessThanOrEqual(a.quotient,O)||s(!1),a.currency=t,a.decimalScale=i.exponentiate(i.BigInt(10),i.BigInt(t.decimals)),a}g(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||s(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||s(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=exports.Rounding.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=exports.Rounding.ROUND_DOWN),t<=this.currency.decimals||s(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),j.DP=this.currency.decimals,new j(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},k(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(H),z=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}];function K(e){var t=i.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}var Q=function(){function e(){}return e.encodePermit=function(t,n){return"nonce"in n?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,K(n.nonce),K(n.expiry),n.v,n.r,n.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,K(n.amount),K(n.deadline),n.v,n.r,n.s])},e}();function Y(e,t){var n=e.pools.reduce((function(e,t,n){var r=e.inputToken,a=e.path,i=e.types,u=t.token0.equals(r)?t.token1:t.token0;return 0===n?{inputToken:u,types:["address","uint24","address"],path:[r.address,t.fee,u.address]}:{inputToken:u,types:[].concat(i,["uint24","address"]),path:[].concat(a,[t.fee,u.address])}}),{inputToken:e.input.wrapped,path:[],types:[]}),r=n.path,a=n.types;return t?d.pack(a.reverse(),r.reverse()):d.pack(a,r)}Q.INTERFACE=new a.Interface(z);var J=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WTC",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WTC",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"refundTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWTCWithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],$=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],Z=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e}();Z.INTERFACE=new a.Interface($);var ee=[{inputs:[],name:"refundTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWTCWithFee",outputs:[],stateMutability:"payable",type:"function"}],te=function(){function e(){}return e.encodeFeeBips=function(e){return K(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,n,r){if(n=F(n),r){var a=this.encodeFeeBips(r.fee),i=F(r.recipient);return e.INTERFACE.encodeFunctionData("unwrapWTCWithFee",[K(t),n,a,i])}return e.INTERFACE.encodeFunctionData("unwrapWTC",[K(t),n])},e.encodeSweepToken=function(t,n,r,a){if(r=F(r),a){var i=this.encodeFeeBips(a.fee),u=F(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,K(n),r,i,u])}return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,K(n),r])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundTC")},e}();te.INTERFACE=new a.Interface(ee);var ne,re,ae=function(e,t,n,r){Number.isSafeInteger(e)||s(!1),t>=0&&t<255&&Number.isInteger(t)||s(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},ie=function(e){function t(t,n,r,a,i,u){var o;return(o=e.call(this,t,r,a,i)||this).isNative=!1,o.isToken=!0,o.address=u?function(e){if(B.test(e))return e;throw new Error(e+" is not a valid address.")}(n):F(n),o}g(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&s(!1),this.address.toLowerCase()===e.address.toLowerCase()&&s(!1),this.address.toLowerCase()<e.address.toLowerCase()},k(t,[{key:"wrapped",get:function(){return this}}]),t}(ae);(ne=exports.Environment||(exports.Environment={}))[ne.LOCAL=0]="LOCAL",ne[ne.TESTNET=1]="TESTNET",ne[ne.MAINNET=2]="MAINNET",(re=exports.WalletType||(exports.WalletType={}))[re.EXTENSION=0]="EXTENSION",re[re.PRIVATEKEY=1]="PRIVATEKEY";var ue={env:exports.Environment.TESTNET,API_ROOT:"https://stag-dex-api.fprotocol.io",rpc:"https://l2-node.regtest.trustless.computer",POOL_FACTORY_CONTRACT_ADDRESS:"0x9D921bF7460d1FcfF77d88edd4D34cD1e2F56BDc",QUOTER_CONTRACT_ADDRESS:"0xD228465a3E1C64Ed6C627a87132dc6b1552cd0F2",SWAP_ROUTER_ADDRESS:"0x3a3885F7a03beC1F4A1c00f155A5d57168fDE205",WETH_CONTRACT_ADDRESS:"0x0fba66555b74f13809862bd6f15fffa0a0237059",TC_CONTRACT_ADDRESS:"0x8b485d217096cE20A09AF11D15ccCc63323C1469",NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS:"0xe6Dc33d13200f0A9CF7cFC7B484aE1891D934234",tokens_list:[new ie(1,"0x0FBa66555B74F13809862BD6f15FffA0A0237059",18,"WETH","Wrapped Ether"),new ie(1,"0xB68BB951883A7c5f24C7e2Cca8d9A68CFC606F41",18,"USDC","USD//C"),new ie(1,"0x1d45c32C97707C916b350042CEAC2164fb6D00A1",18,"WBTC","Wrapped BTC")]},oe={env:exports.Environment.MAINNET,rpc:"https://node.l2.trustless.computer",API_ROOT:"https://dex-api.fprotocol.io",POOL_FACTORY_CONTRACT_ADDRESS:"0x1d12AC81710da54A50e2e9095E20dB2D915Ce3C8",QUOTER_CONTRACT_ADDRESS:"0x17f8275c3842f977d42Ab09c35042ddE4ec55856",SWAP_ROUTER_ADDRESS:"0xB3eAc9358462356B231801309f553c48667B2CB7",WETH_CONTRACT_ADDRESS:"0x43bda480de297a14cec95bfb1c6a313615f809ef",NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS:"0x7D9D03317e90E477180dcFE28c75f8007Ecc6031",TC_CONTRACT_ADDRESS:"0xad771ed0f8c5df06d21a7eda3b00acd6688dd532",tokens_list:[new ie(1,"0x43bda480de297a14cec95bfb1c6a313615f809ef",18,"WETH","Wrapped Ether"),new ie(1,"0xe8B280Ebb57bE03adC9d87e207BCD689EfADef96",18,"USDC","USD//C"),new ie(1,"0x111808AbE352c8003e0eFfcc04998EaB26Cebe3c",18,"WBTC","Wrapped BTC"),new ie(1,"0xdb380837095fbfAA4Ea65e7388Ef35A5FCad0334",18,"token1","token1"),new ie(1,"0xBBA317FD4f2Cc8b8906D77cE410691dD9a6ee64F",18,"tk3","tk3")]};exports.CurrentConfig=oe,exports.tokenSwap={in:exports.CurrentConfig.tokens_list[0],amountIn:1,out:exports.CurrentConfig.tokens_list[1],poolFee:exports.FeeAmount.MEDIUM};var se={token0:exports.CurrentConfig.tokens_list[3],token0Amount:.5,token1:exports.CurrentConfig.tokens_list[4],token1Amount:.2,poolFee:exports.FeeAmount.MEDIUM,fractionToRemove:1,fractionToAdd:.5};function pe(){exports.tokenSwap={in:exports.CurrentConfig.tokens_list[0],amountIn:1,out:exports.CurrentConfig.tokens_list[1],poolFee:exports.FeeAmount.MEDIUM}}var ce={address:"",privateKey:"",type:exports.WalletType.PRIVATEKEY},le=function(){function e(){}return e.swapCallParameters=function(t,n){Array.isArray(t)||(t=[t]);var r=t[0],a=r.inputAmount.currency.wrapped,i=r.outputAmount.currency.wrapped;t.every((function(e){return e.inputAmount.currency.wrapped.equals(a)}))||s(!1),t.every((function(e){return e.outputAmount.currency.wrapped.equals(i)}))||s(!1);var u=[],o=V.fromRawAmount(t[0].inputAmount.currency,0),p=V.fromRawAmount(t[0].outputAmount.currency,0),c=t.reduce((function(e,t){return e.add(t.minimumAmountOut(n.slippageTolerance))}),p),l=(r.inputAmount.currency.isNative||r.inputAmount.currency.address.toLowerCase()==exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase())&&r.tradeType===exports.TradeType.EXACT_OUTPUT,d=r.inputAmount.currency.isNative||r.inputAmount.currency.address.toLowerCase()==exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase(),y=r.outputAmount.currency.isNative||r.outputAmount.currency.address.toLowerCase()==exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase(),m=y||!!n.fee,f=d?t.reduce((function(e,t){return e.add(t.maximumAmountIn(n.slippageTolerance))}),o):o;n.inputTokenPermit&&(r.inputAmount.currency.isToken||s(!1),u.push(Q.encodePermit(r.inputAmount.currency,n.inputTokenPermit)));for(var T,h=F(n.recipient),x=K(n.deadline),v=C(t);!(T=v()).done;)for(var b,k=T.value,w=C(k.swaps);!(b=w()).done;){var g=b.value,A=g.route,I=g.outputAmount,E=K(k.maximumAmountIn(n.slippageTolerance,g.inputAmount).quotient),O=K(k.minimumAmountOut(n.slippageTolerance,I).quotient);if(1===A.pools.length)if(k.tradeType===exports.TradeType.EXACT_INPUT){var S,R={tokenIn:A.tokenPath[0].address,tokenOut:A.tokenPath[1].address,fee:A.pools[0].fee,recipient:m?N:h,deadline:x,amountIn:E,amountOutMinimum:O,sqrtPriceLimitX96:K(null!=(S=n.sqrtPriceLimitX96)?S:0)};u.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[R]))}else{var P,_={tokenIn:A.tokenPath[0].address,tokenOut:A.tokenPath[1].address,fee:A.pools[0].fee,recipient:m?N:h,deadline:x,amountOut:O,amountInMaximum:E,sqrtPriceLimitX96:K(null!=(P=n.sqrtPriceLimitX96)?P:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[_]))}else{void 0!==n.sqrtPriceLimitX96&&s(!1);var q=Y(A,k.tradeType===exports.TradeType.EXACT_OUTPUT);k.tradeType===exports.TradeType.EXACT_INPUT?u.push(e.INTERFACE.encodeFunctionData("exactInput",[{path:q,recipient:m?N:h,deadline:x,amountIn:E,amountOutMinimum:O}])):u.push(e.INTERFACE.encodeFunctionData("exactOutput",[{path:q,recipient:m?N:h,deadline:x,amountOut:O,amountInMaximum:E}]))}}return m&&u.push(n.fee?y?te.encodeUnwrapWETH9(c.quotient,h,n.fee):te.encodeSweepToken(r.outputAmount.currency.wrapped,c.quotient,h,n.fee):te.encodeUnwrapWETH9(c.quotient,h)),l&&u.push(te.encodeRefundETH()),{calldata:Z.encodeMulticall(u),value:K(f.quotient)}},e}();le.INTERFACE=new a.Interface(J);var de=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WTC",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WTC",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"V3Callback",outputs:[],stateMutability:"view",type:"function"}],ye=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"V3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],me=function(){function e(){}return e.quoteCallParameters=function(e,t,n,r){void 0===r&&(r={});var a,i=1===e.pools.length,u=K(t.quotient),o=r.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(i){var p,c,l={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:K(null!=(p=null==(c=r)?void 0:c.sqrtPriceLimitX96)?p:0)},d=w({},l,n==exports.TradeType.EXACT_INPUT?{amountIn:u}:{amount:u}),y=n===exports.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";a=o.encodeFunctionData(y,r.useQuoterV2?[d]:[l.tokenIn,l.tokenOut,l.fee,u,l.sqrtPriceLimitX96])}else{var m;void 0!==(null==(m=r)?void 0:m.sqrtPriceLimitX96)&&s(!1);var f=Y(e,n===exports.TradeType.EXACT_OUTPUT),T=n===exports.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";a=o.encodeFunctionData(T,[f,u])}return{calldata:a,value:K(0)}},e}();me.V1INTERFACE=new a.Interface(de),me.V2INTERFACE=new a.Interface(ye);var fe=function(e){function t(){for(var t,n,r,a,u,o=arguments.length,s=new Array(o),p=0;p<o;p++)s[p]=arguments[p];if(4===s.length)n=s[0],r=s[1],a=s[2],u=s[3];else{var c=s[0].quoteAmount.divide(s[0].baseAmount),l=[s[0].baseAmount.currency,s[0].quoteAmount.currency,c.denominator,c.numerator];n=l[0],r=l[1],a=l[2],u=l[3]}return(t=e.call(this,u,a)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new H(i.exponentiate(i.BigInt(10),i.BigInt(n.decimals)),i.exponentiate(i.BigInt(10),i.BigInt(r.decimals))),t}g(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||s(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||s(!1);var n=e.prototype.multiply.call(this,t);return V.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},k(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(H),Te=i.BigInt(-1),he=i.BigInt(0),xe=i.BigInt(1),ve=i.exponentiate(i.BigInt(2),i.BigInt(96)),be=i.exponentiate(ve,i.BigInt(2));function ke(e){var t=e.factoryAddress,n=e.tokenA,r=e.tokenB,i=e.fee,u=e.initCodeHashManualOverride,s=n.sortsBefore(r)?[n,r]:[r,n];return o.getCreate2Address(t,d.keccak256(["bytes"],[a.defaultAbiCoder.encode(["address","address","uint24"],[s[0].address,s[1].address,i])]),null!=u?u:P)}var we=function(){function e(){}return e.addDelta=function(e,t){return i.lessThan(t,he)?i.subtract(e,i.multiply(t,Te)):i.add(e,t)},e}(),ge=function(){function e(){}return e.mulDivRoundingUp=function(e,t,n){var r=i.multiply(e,t),a=i.divide(r,n);return i.notEqual(i.remainder(r,n),he)&&(a=i.add(a,xe)),a},e}(),Ae=i.subtract(i.exponentiate(i.BigInt(2),i.BigInt(160)),xe);function Ie(e,t){var n=i.multiply(e,t);return i.bitwiseAnd(n,O)}var Ce=function(){function e(){}return e.getAmount0Delta=function(e,t,n,r){if(i.greaterThan(e,t)){var a=[t,e];e=a[0],t=a[1]}var u=i.leftShift(n,i.BigInt(96)),o=i.subtract(t,e);return r?ge.mulDivRoundingUp(ge.mulDivRoundingUp(u,o,t),xe,e):i.divide(i.divide(i.multiply(u,o),t),e)},e.getAmount1Delta=function(e,t,n,r){if(i.greaterThan(e,t)){var a=[t,e];e=a[0],t=a[1]}return r?ge.mulDivRoundingUp(n,i.subtract(t,e),ve):i.divide(i.multiply(n,i.subtract(t,e)),ve)},e.getNextSqrtPriceFromInput=function(e,t,n,r){return i.greaterThan(e,he)||s(!1),i.greaterThan(t,he)||s(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)},e.getNextSqrtPriceFromOutput=function(e,t,n,r){return i.greaterThan(e,he)||s(!1),i.greaterThan(t,he)||s(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,n,r){if(i.equal(n,he))return e;var a=i.leftShift(t,i.BigInt(96));if(r){var u=Ie(n,e);if(i.equal(i.divide(u,n),e)){var o=(c=i.add(a,u),i.bitwiseAnd(c,O));if(i.greaterThanOrEqual(o,a))return ge.mulDivRoundingUp(a,e,o)}return ge.mulDivRoundingUp(a,xe,i.add(i.divide(a,e),n))}var p=Ie(n,e);i.equal(i.divide(p,n),e)||s(!1),i.greaterThan(a,p)||s(!1);var c,l=i.subtract(a,p);return ge.mulDivRoundingUp(a,e,l)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,n,r){if(r){var a=i.lessThanOrEqual(n,Ae)?i.divide(i.leftShift(n,i.BigInt(96)),t):i.divide(i.multiply(n,ve),t);return i.add(e,a)}var u=ge.mulDivRoundingUp(n,ve,t);return i.greaterThan(e,u)||s(!1),i.subtract(e,u)},e}(),Ee=i.exponentiate(i.BigInt(10),i.BigInt(6)),Oe=function(){function e(){}return e.computeSwapStep=function(e,t,n,r,a){var u={},o=i.greaterThanOrEqual(e,t),s=i.greaterThanOrEqual(r,he);if(s){var p=i.divide(i.multiply(r,i.subtract(Ee,i.BigInt(a))),Ee);u.amountIn=o?Ce.getAmount0Delta(t,e,n,!0):Ce.getAmount1Delta(e,t,n,!0),u.sqrtRatioNextX96=i.greaterThanOrEqual(p,u.amountIn)?t:Ce.getNextSqrtPriceFromInput(e,n,p,o)}else u.amountOut=o?Ce.getAmount1Delta(t,e,n,!1):Ce.getAmount0Delta(e,t,n,!1),u.sqrtRatioNextX96=i.greaterThanOrEqual(i.multiply(r,Te),u.amountOut)?t:Ce.getNextSqrtPriceFromOutput(e,n,i.multiply(r,Te),o);var c=i.equal(t,u.sqrtRatioNextX96);return o?(u.amountIn=c&&s?u.amountIn:Ce.getAmount0Delta(u.sqrtRatioNextX96,e,n,!0),u.amountOut=c&&!s?u.amountOut:Ce.getAmount1Delta(u.sqrtRatioNextX96,e,n,!1)):(u.amountIn=c&&s?u.amountIn:Ce.getAmount1Delta(e,u.sqrtRatioNextX96,n,!0),u.amountOut=c&&!s?u.amountOut:Ce.getAmount0Delta(e,u.sqrtRatioNextX96,n,!1)),!s&&i.greaterThan(u.amountOut,i.multiply(r,Te))&&(u.amountOut=i.multiply(r,Te)),u.feeAmount=s&&i.notEqual(u.sqrtRatioNextX96,t)?i.subtract(r,u.amountIn):ge.mulDivRoundingUp(u.amountIn,i.BigInt(a),i.subtract(Ee,i.BigInt(a))),[u.sqrtRatioNextX96,u.amountIn,u.amountOut,u.feeAmount]},e}(),Se=i.BigInt(2),Re=[128,64,32,16,8,4,2,1].map((function(e){return[e,i.exponentiate(Se,i.BigInt(e))]}));function Ne(e){i.greaterThan(e,he)||s(!1),i.lessThanOrEqual(e,O)||s(!1);for(var t,n=0,r=C(Re);!(t=r()).done;){var a=t.value,u=a[0];i.greaterThanOrEqual(e,a[1])&&(e=i.signedRightShift(e,i.BigInt(u)),n+=u)}return n}function Pe(e,t){return i.signedRightShift(i.multiply(e,i.BigInt(t)),i.BigInt(128))}var _e=i.exponentiate(i.BigInt(2),i.BigInt(32)),qe=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||s(!1);var n=t<0?-1*t:t,r=i.BigInt(0!=(1&n)?"0xfffcb933bd6fad37aa2d162d1a594001":"0x100000000000000000000000000000000");return 0!=(2&n)&&(r=Pe(r,"0xfff97272373d413259a46990580e213a")),0!=(4&n)&&(r=Pe(r,"0xfff2e50f5f656932ef12357cf3c7fdcc")),0!=(8&n)&&(r=Pe(r,"0xffe5caca7e10e4e61c3624eaa0941cd0")),0!=(16&n)&&(r=Pe(r,"0xffcb9843d60f6159c9db58835c926644")),0!=(32&n)&&(r=Pe(r,"0xff973b41fa98c081472e6896dfb254c0")),0!=(64&n)&&(r=Pe(r,"0xff2ea16466c96a3843ec78b326b52861")),0!=(128&n)&&(r=Pe(r,"0xfe5dee046a99a2a811c461f1969c3053")),0!=(256&n)&&(r=Pe(r,"0xfcbe86c7900a88aedcffc83b479aa3a4")),0!=(512&n)&&(r=Pe(r,"0xf987a7253ac413176f2b074cf7815e54")),0!=(1024&n)&&(r=Pe(r,"0xf3392b0822b70005940c7a398e4b70f3")),0!=(2048&n)&&(r=Pe(r,"0xe7159475a2c29b7443b29c7fa6e889d9")),0!=(4096&n)&&(r=Pe(r,"0xd097f3bdfd2022b8845ad8f792aa5825")),0!=(8192&n)&&(r=Pe(r,"0xa9f746462d870fdf8a65dc1f90e061e5")),0!=(16384&n)&&(r=Pe(r,"0x70d869a156d2a1b890bb3df62baf32f7")),0!=(32768&n)&&(r=Pe(r,"0x31be135f97d08fd981231505542fcfa6")),0!=(65536&n)&&(r=Pe(r,"0x9aa508b5b7a84e1c677de54f3e99bc9")),0!=(131072&n)&&(r=Pe(r,"0x5d6af8dedb81196699c329225ee604")),0!=(262144&n)&&(r=Pe(r,"0x2216e584f5fa1ea926041bedfe98")),0!=(524288&n)&&(r=Pe(r,"0x48a170391f7dc42444e8fa2")),t>0&&(r=i.divide(O,r)),i.greaterThan(i.remainder(r,_e),he)?i.add(i.divide(r,_e),xe):i.divide(r,_e)},e.getTickAtSqrtRatio=function(t){i.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&i.lessThan(t,e.MAX_SQRT_RATIO)||s(!1);var n,r=i.leftShift(t,i.BigInt(32)),a=Ne(r);n=i.greaterThanOrEqual(i.BigInt(a),i.BigInt(128))?i.signedRightShift(r,i.BigInt(a-127)):i.leftShift(r,i.BigInt(127-a));for(var u=i.leftShift(i.subtract(i.BigInt(a),i.BigInt(128)),i.BigInt(64)),o=0;o<14;o++){n=i.signedRightShift(i.multiply(n,n),i.BigInt(127));var p=i.signedRightShift(n,i.BigInt(128));u=i.bitwiseOr(u,i.leftShift(p,i.BigInt(63-o))),n=i.signedRightShift(n,p)}var c=i.multiply(u,i.BigInt("255738958999603826347141")),l=i.toNumber(i.signedRightShift(i.subtract(c,i.BigInt("3402992956809132418596140100660247210")),i.BigInt(128))),d=i.toNumber(i.signedRightShift(i.add(c,i.BigInt("291339464771989622907027621153398088495")),i.BigInt(128)));return l===d?l:i.lessThanOrEqual(e.getSqrtRatioAtTick(d),t)?d:l},e}();qe.MIN_TICK=-887272,qe.MAX_TICK=-qe.MIN_TICK,qe.MIN_SQRT_RATIO=i.BigInt("4295128739"),qe.MAX_SQRT_RATIO=i.BigInt("1461446703485210103287273052203988822378723970342");var Me=function(){function e(){}var t=e.prototype;return t.getTick=function(){var t=v(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var t=v(h().mark((function t(n,r,a){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e}();function Fe(e,t){for(var n=0;n<e.length-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}function De(e,t){return e.index-t.index}Me.ERROR_MESSAGE="No tick data provider was given";var Le=function(){function e(){}return e.validateList=function(e,t){t>0||s(!1),e.every((function(e){return e.index%t==0}))||s(!1),i.equal(e.reduce((function(e,t){return i.add(e,t.liquidityNet)}),he),he)||s(!1),Fe(e,De)||s(!1)},e.isBelowSmallest=function(e,t){return e.length>0||s(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||s(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var n=e[this.binarySearch(e,t)];return n.index!==t&&s(!1),n},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&s(!1);for(var n,r=0,a=e.length-1;;){if(e[n=Math.floor((r+a)/2)].index<=t&&(n===e.length-1||e[n+1].index>t))return n;e[n].index<t?r=n+1:a=n-1}},e.nextInitializedTick=function(t,n,r){return r?(e.isBelowSmallest(t,n)&&s(!1),e.isAtOrAboveLargest(t,n)?t[t.length-1]:t[this.binarySearch(t,n)]):(this.isAtOrAboveLargest(t,n)&&s(!1),this.isBelowSmallest(t,n)?t[0]:t[this.binarySearch(t,n)+1])},e.nextInitializedTickWithinOneWord=function(t,n,r,a){var i=Math.floor(n/a);if(r){var u=(i>>8<<8)*a;if(e.isBelowSmallest(t,n))return[u,!1];var o=e.nextInitializedTick(t,n,r).index,s=Math.max(u,o);return[s,s===o]}var p=((1+(i+1>>8)<<8)-1)*a;if(this.isAtOrAboveLargest(t,n))return[p,!1];var c=this.nextInitializedTick(t,n,r).index,l=Math.min(p,c);return[l,l===c]},e}(),Be=function(e){var t=e.index,n=e.liquidityGross,r=e.liquidityNet;t>=qe.MIN_TICK&&t<=qe.MAX_TICK||s(!1),this.index=t,this.liquidityGross=i.BigInt(n),this.liquidityNet=i.BigInt(r)},Ue=function(){function e(e,t){var n=e.map((function(e){return e instanceof Be?e:new Be(e)}));Le.validateList(n,t),this.ticks=n}var t=e.prototype;return t.getTick=function(){var e=v(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le.getTick(this.ticks,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var e=v(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le.nextInitializedTickWithinOneWord(this.ticks,t,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),Xe=new Me,Ge=function(){function e(e,t,n,r,a,u,o){void 0===o&&(o=Xe),Number.isInteger(n)&&n<1e6||s(!1);var p=qe.getSqrtRatioAtTick(u),c=qe.getSqrtRatioAtTick(u+1);i.greaterThanOrEqual(i.BigInt(r),p)&&i.lessThanOrEqual(i.BigInt(r),c)||s(!1);var l=e.sortsBefore(t)?[e,t]:[t,e];this.token0=l[0],this.token1=l[1],this.fee=n,this.sqrtRatioX96=i.BigInt(r),this.liquidity=i.BigInt(a),this.tickCurrent=u,this.tickDataProvider=Array.isArray(o)?new Ue(o,R[n]):o}e.getAddress=function(e,t,n,r,a){return ke({factoryAddress:null!=a?a:"0x9D921bF7460d1FcfF77d88edd4D34cD1e2F56BDc",fee:n,tokenA:e,tokenB:t,initCodeHashManualOverride:r})};var t=e.prototype;return t.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},t.priceOf=function(e){return this.involvesToken(e)||s(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t.getOutputAmount=function(){var t=v(h().mark((function t(n,r){var a,u,o,p,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.involvesToken(n.currency)||s(!1),a=n.currency.equals(this.token0),t.next=4,this.swap(a,n.quotient,r);case 4:return o=(u=t.sent).sqrtRatioX96,p=u.liquidity,c=u.tickCurrent,t.abrupt("return",[V.fromRawAmount(a?this.token1:this.token0,i.multiply(u.amountCalculated,Te)),new e(this.token0,this.token1,this.fee,o,p,c,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.getInputAmount=function(){var t=v(h().mark((function t(n,r){var a,u,o,p,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.currency.isToken&&this.involvesToken(n.currency)||s(!1),a=n.currency.equals(this.token1),t.next=4,this.swap(a,i.multiply(n.quotient,Te),r);case 4:return o=(u=t.sent).sqrtRatioX96,p=u.liquidity,c=u.tickCurrent,t.abrupt("return",[V.fromRawAmount(a?this.token0:this.token1,u.amountCalculated),new e(this.token0,this.token1,this.fee,o,p,c,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.swap=function(){var e=v(h().mark((function e(t,n,r){var a,u,o,p,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r||(r=t?i.add(qe.MIN_SQRT_RATIO,xe):i.subtract(qe.MAX_SQRT_RATIO,xe)),t?(i.greaterThan(r,qe.MIN_SQRT_RATIO)||s(!1),i.lessThan(r,this.sqrtRatioX96)||s(!1)):(i.lessThan(r,qe.MAX_SQRT_RATIO)||s(!1),i.greaterThan(r,this.sqrtRatioX96)||s(!1)),a=i.greaterThanOrEqual(n,he),u={amountSpecifiedRemaining:n,amountCalculated:he,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!i.notEqual(u.amountSpecifiedRemaining,he)||u.sqrtPriceX96==r){e.next=35;break}return(o={}).sqrtPriceStartX96=u.sqrtPriceX96,e.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(u.tick,t,this.tickSpacing);case 9:if(o.tickNext=(p=e.sent)[0],o.initialized=p[1],o.tickNext<qe.MIN_TICK?o.tickNext=qe.MIN_TICK:o.tickNext>qe.MAX_TICK&&(o.tickNext=qe.MAX_TICK),o.sqrtPriceNextX96=qe.getSqrtRatioAtTick(o.tickNext),c=Oe.computeSwapStep(u.sqrtPriceX96,(t?i.lessThan(o.sqrtPriceNextX96,r):i.greaterThan(o.sqrtPriceNextX96,r))?r:o.sqrtPriceNextX96,u.liquidity,u.amountSpecifiedRemaining,this.fee),u.sqrtPriceX96=c[0],o.amountIn=c[1],o.amountOut=c[2],o.feeAmount=c[3],a?(u.amountSpecifiedRemaining=i.subtract(u.amountSpecifiedRemaining,i.add(o.amountIn,o.feeAmount)),u.amountCalculated=i.subtract(u.amountCalculated,o.amountOut)):(u.amountSpecifiedRemaining=i.add(u.amountSpecifiedRemaining,o.amountOut),u.amountCalculated=i.add(u.amountCalculated,i.add(o.amountIn,o.feeAmount))),!i.equal(u.sqrtPriceX96,o.sqrtPriceNextX96)){e.next=32;break}if(!o.initialized){e.next=29;break}return e.t0=i,e.next=25,this.tickDataProvider.getTick(o.tickNext);case 25:e.t1=e.sent.liquidityNet,l=e.t0.BigInt.call(e.t0,e.t1),t&&(l=i.multiply(l,Te)),u.liquidity=we.addDelta(u.liquidity,l);case 29:u.tick=t?o.tickNext-1:o.tickNext,e.next=33;break;case 32:i.notEqual(u.sqrtPriceX96,o.sqrtPriceStartX96)&&(u.tick=qe.getTickAtSqrtRatio(u.sqrtPriceX96));case 33:e.next=4;break;case 35:return e.abrupt("return",{amountCalculated:u.amountCalculated,sqrtRatioX96:u.sqrtPriceX96,liquidity:u.liquidity,tickCurrent:u.tick});case 36:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),k(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new fe(this.token0,this.token1,be,i.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new fe(this.token1,this.token0,i.multiply(this.sqrtRatioX96,this.sqrtRatioX96),be)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return R[this.fee]}}]),e}(),We=function(){function e(e,t,n){this._midPrice=null,e.length>0||s(!1);var r=e[0].chainId;e.every((function(e){return e.chainId===r}))||s(!1);var a=t.wrapped;e[0].involvesToken(a)||s(!1),e[e.length-1].involvesToken(n.wrapped)||s(!1);for(var i,u=[a],o=C(e.entries());!(i=o()).done;){var p=i.value,c=p[1],l=u[p[0]];l.equals(c.token0)||l.equals(c.token1)||s(!1);var d=l.equals(c.token0)?c.token1:c.token0;u.push(d)}this.pools=e,this.tokenPath=u,this.input=t,this.output=null!=n?n:u[u.length-1]}return k(e,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce((function(e,t){var n=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:n.multiply(t.token0Price)}:{nextInput:t.token0,price:n.multiply(t.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new fe(this.input,this.output,e.denominator,e.numerator)}}]),e}();function He(e,t,n,r){if(n>0||s(!1),e.length<=n||s(!1),0===e.length)return e.push(t),null;var a=e.length===n;if(a&&r(e[e.length-1],t)<=0)return t;for(var i=0,u=e.length;i<u;){var o=i+u>>>1;r(e[o],t)<=0?i=o+1:u=o}return e.splice(i,0,t),a?e.pop():null}var je=new H(i.BigInt(100));function Ve(e){return new ze(e.numerator,e.denominator)}var ze=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}g(t,e);var n=t.prototype;return n.add=function(t){return Ve(e.prototype.add.call(this,t))},n.subtract=function(t){return Ve(e.prototype.subtract.call(this,t))},n.multiply=function(t){return Ve(e.prototype.multiply.call(this,t))},n.divide=function(t){return Ve(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,je).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,je).toFixed(t,n,r)},t}(H);function Ke(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||s(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||s(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0)-t.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var Qe=function(){function e(e){var t=e.routes,n=e.tradeType,r=t[0].inputAmount.currency,a=t[0].outputAmount.currency;t.every((function(e){return r.wrapped.equals(e.route.input.wrapped)}))||s(!1),t.every((function(e){return a.wrapped.equals(e.route.output.wrapped)}))||s(!1);for(var i,u=t.map((function(e){return e.route.pools.length})).reduce((function(e,t){return e+t}),0),o=new Set,p=C(t);!(i=p()).done;)for(var c,l=C(i.value.route.pools);!(c=l()).done;){var d=c.value;o.add(Ge.getAddress(d.token0,d.token1,d.fee))}u!=o.size&&s(!1),this.swaps=t,this.tradeType=n}e.exactIn=function(){var t=v(h().mark((function t(n,r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,exports.TradeType.EXACT_INPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.exactOut=function(){var t=v(h().mark((function t(n,r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,exports.TradeType.EXACT_OUTPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.fromRoute=function(){var t=v(h().mark((function t(n,r,a){var i,u,o,p,c,l,d;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=new Array(n.tokenPath.length),a!==exports.TradeType.EXACT_INPUT){t.next=19;break}r.currency.equals(n.input)||s(!1),i[0]=r.wrapped,p=0;case 5:if(!(p<n.tokenPath.length-1)){t.next=15;break}return c=n.pools[p],t.next=9,c.getOutputAmount(i[p]);case 9:i[p+1]=t.sent[0];case 12:p++,t.next=5;break;case 15:u=V.fromFractionalAmount(n.input,r.numerator,r.denominator),o=V.fromFractionalAmount(n.output,i[i.length-1].numerator,i[i.length-1].denominator),t.next=34;break;case 19:r.currency.equals(n.output)||s(!1),i[i.length-1]=r.wrapped,l=n.tokenPath.length-1;case 22:if(!(l>0)){t.next=32;break}return d=n.pools[l-1],t.next=26,d.getInputAmount(i[l]);case 26:i[l-1]=t.sent[0];case 29:l--,t.next=22;break;case 32:u=V.fromFractionalAmount(n.input,i[0].numerator,i[0].denominator),o=V.fromFractionalAmount(n.output,r.numerator,r.denominator);case 34:return t.abrupt("return",new e({routes:[{inputAmount:u,outputAmount:o,route:n}],tradeType:a}));case 35:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.fromRoutes=function(){var t=v(h().mark((function t(n,r){var a,i,u,o,p,c,l,d,y,m,f,T,x;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],i=C(n);case 2:if((u=i()).done){t.next=43;break}if(p=(o=u.value).route,c=o.amount,l=new Array(p.tokenPath.length),d=void 0,y=void 0,r!==exports.TradeType.EXACT_INPUT){t.next=25;break}c.currency.equals(p.input)||s(!1),d=V.fromFractionalAmount(p.input,c.numerator,c.denominator),l[0]=V.fromFractionalAmount(p.input.wrapped,c.numerator,c.denominator),m=0;case 12:if(!(m<p.tokenPath.length-1)){t.next=22;break}return f=p.pools[m],t.next=16,f.getOutputAmount(l[m]);case 16:l[m+1]=t.sent[0];case 19:m++,t.next=12;break;case 22:y=V.fromFractionalAmount(p.output,l[l.length-1].numerator,l[l.length-1].denominator),t.next=40;break;case 25:c.currency.equals(p.output)||s(!1),y=V.fromFractionalAmount(p.output,c.numerator,c.denominator),l[l.length-1]=V.fromFractionalAmount(p.output.wrapped,c.numerator,c.denominator),T=p.tokenPath.length-1;case 29:if(!(T>0)){t.next=39;break}return x=p.pools[T-1],t.next=33,x.getInputAmount(l[T]);case 33:l[T-1]=t.sent[0];case 36:T--,t.next=29;break;case 39:d=V.fromFractionalAmount(p.input,l[0].numerator,l[0].denominator);case 40:a.push({route:p,inputAmount:d,outputAmount:y});case 41:t.next=2;break;case 43:return t.abrupt("return",new e({routes:a,tradeType:r}));case 44:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createUncheckedTrade=function(t){return new e(w({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t=e.prototype;return t.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(he)&&s(!1),this.tradeType===exports.TradeType.EXACT_OUTPUT)return t;var n=new H(xe).add(e).invert().multiply(t.quotient).quotient;return V.fromRawAmount(t.currency,n)},t.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(he)&&s(!1),this.tradeType===exports.TradeType.EXACT_INPUT)return t;var n=new H(xe).add(e).multiply(t.quotient).quotient;return V.fromRawAmount(t.currency,n)},t.worstExecutionPrice=function(e){return new fe(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactIn=function(){var t=v(h().mark((function t(n,r,a,i,u,o,p){var c,l,d,y,m,f,T,x,v,b,k;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d=void 0===(l=(c=void 0===i?{}:i).maxNumResults)?3:l,m=void 0===(y=c.maxHops)?3:y,void 0===u&&(u=[]),void 0===o&&(o=r),void 0===p&&(p=[]),n.length>0||s(!1),m>0||s(!1),r===o||u.length>0||s(!1),f=o.wrapped,T=a.wrapped,x=0;case 10:if(!(x<n.length)){t.next=46;break}if((v=n[x]).token0.equals(f.currency)||v.token1.equals(f.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return b=void 0,t.prev=15,t.next=19,v.getOutputAmount(f);case 19:b=t.sent[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientInputAmountError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!b.currency.isToken||!b.currency.equals(T)){t.next=39;break}return t.t1=He,t.t2=p,t.next=33,e.fromRoute(new We([].concat(u,[v]),r.currency,a),r,exports.TradeType.EXACT_INPUT);case 33:t.t3=t.sent,t.t4=d,t.t5=Ke,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(m>1&&n.length>1)){t.next=43;break}return k=n.slice(0,x).concat(n.slice(x+1,n.length)),t.next=43,e.bestTradeExactIn(k,r,a,{maxNumResults:d,maxHops:m-1},[].concat(u,[v]),b,p);case 43:x++,t.next=10;break;case 46:return t.abrupt("return",p);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,a,i,u,o){return t.apply(this,arguments)}}(),e.bestTradeExactOut=function(){var t=v(h().mark((function t(n,r,a,i,u,o,p){var c,l,d,y,m,f,T,x,v,b,k;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d=void 0===(l=(c=void 0===i?{}:i).maxNumResults)?3:l,m=void 0===(y=c.maxHops)?3:y,void 0===u&&(u=[]),void 0===o&&(o=a),void 0===p&&(p=[]),n.length>0||s(!1),m>0||s(!1),a===o||u.length>0||s(!1),f=o.wrapped,T=r.wrapped,x=0;case 10:if(!(x<n.length)){t.next=46;break}if((v=n[x]).token0.equals(f.currency)||v.token1.equals(f.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return b=void 0,t.prev=15,t.next=19,v.getInputAmount(f);case 19:b=t.sent[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientReservesError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!b.currency.equals(T)){t.next=39;break}return t.t1=He,t.t2=p,t.next=33,e.fromRoute(new We([v].concat(u),r,a.currency),a,exports.TradeType.EXACT_OUTPUT);case 33:t.t3=t.sent,t.t4=d,t.t5=Ke,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(m>1&&n.length>1)){t.next=43;break}return k=n.slice(0,x).concat(n.slice(x+1,n.length)),t.next=43,e.bestTradeExactOut(k,r,a,{maxNumResults:d,maxHops:m-1},[v].concat(u),b,p);case 43:x++,t.next=10;break;case 46:return t.abrupt("return",p);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,a,i,u,o){return t.apply(this,arguments)}}(),k(e,[{key:"route",get:function(){return 1!=this.swaps.length&&s(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map((function(e){return e.inputAmount})).reduce((function(e,t){return e.add(t)}),V.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map((function(e){return e.outputAmount})).reduce((function(e,t){return e.add(t)}),V.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new fe(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=V.fromRawAmount(this.outputAmount.currency,0),n=C(this.swaps);!(e=n()).done;){var r=e.value;t=t.add(r.route.midPrice.quote(r.inputAmount))}var a=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new ze(a.numerator,a.denominator),this._priceImpact}}]),e}(),Ye=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return g(t,e),t}(ae);function Je(e,t,n){if(i.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var a=i.divide(i.multiply(e,t),ve);return i.divide(i.multiply(i.BigInt(n),a),i.subtract(t,e))}function $e(e,t,n){if(i.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var a=i.multiply(i.multiply(i.BigInt(n),e),t),u=i.multiply(ve,i.subtract(t,e));return i.divide(a,u)}function Ze(e,t,n){if(i.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}return i.divide(i.multiply(i.BigInt(n),ve),i.subtract(t,e))}function et(e,t,n,r,a,u){if(i.greaterThan(t,n)){var o=[n,t];t=o[0],n=o[1]}var s=u?$e:Je;if(i.lessThanOrEqual(e,t))return s(t,n,r);if(i.lessThan(e,n)){var p=s(e,n,r),c=Ze(t,e,a);return i.lessThan(p,c)?p:c}return Ze(t,n,a)}var tt=i.BigInt(Number.MAX_SAFE_INTEGER),nt=i.BigInt(0),rt=i.BigInt(1),at=i.BigInt(2);function it(e,t){var n=i.leftShift(i.BigInt(e),i.BigInt(192)),r=i.BigInt(t);return function(e){if(i.greaterThanOrEqual(e,nt)||s(!1),i.lessThan(e,tt))return i.BigInt(Math.floor(Math.sqrt(i.toNumber(e))));var t,n;for(t=e,n=i.add(i.divide(e,at),rt);i.lessThan(n,t);)t=n,n=i.divide(i.add(i.divide(e,n),n),at);return t}(i.divide(n,r))}function ut(e,t,n){var r=qe.getSqrtRatioAtTick(n),a=i.multiply(r,r);return e.sortsBefore(t)?new fe(e,t,be,a):new fe(e,t,a,be)}var ot,st=function(){function e(e){var t=e.pool,n=e.liquidity,r=e.tickLower,a=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<a||s(!1),r>=qe.MIN_TICK&&r%t.tickSpacing==0||s(!1),a<=qe.MAX_TICK&&a%t.tickSpacing==0||s(!1),this.pool=t,this.tickLower=r,this.tickUpper=a,this.liquidity=i.BigInt(n)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new ze(1).subtract(e)),n=this.pool.token0Price.asFraction.multiply(e.add(1)),r=it(t.numerator,t.denominator);i.lessThanOrEqual(r,qe.MIN_SQRT_RATIO)&&(r=i.add(qe.MIN_SQRT_RATIO,i.BigInt(1)));var a=it(n.numerator,n.denominator);return i.greaterThanOrEqual(a,qe.MAX_SQRT_RATIO)&&(a=i.subtract(qe.MAX_SQRT_RATIO,i.BigInt(1))),{sqrtRatioX96Lower:r,sqrtRatioX96Upper:a}},t.mintAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,a=n.sqrtRatioX96Lower,i=new Ge(this.pool.token0,this.pool.token1,this.pool.fee,a,0,qe.getTickAtSqrtRatio(a)),u=new Ge(this.pool.token0,this.pool.token1,this.pool.fee,r,0,qe.getTickAtSqrtRatio(r)),o=e.fromAmounts(w({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:u,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:i,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,a=n.sqrtRatioX96Lower,i=new Ge(this.pool.token0,this.pool.token1,this.pool.fee,a,0,qe.getTickAtSqrtRatio(a)),u=new e({pool:new Ge(this.pool.token0,this.pool.token1,this.pool.fee,r,0,qe.getTickAtSqrtRatio(r)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,o=new e({pool:i,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:u.quotient,amount1:o.quotient}},e.fromAmounts=function(t){var n=t.pool,r=t.tickLower,a=t.tickUpper,i=t.amount0,u=t.amount1,o=t.useFullPrecision,s=qe.getSqrtRatioAtTick(r),p=qe.getSqrtRatioAtTick(a);return new e({pool:n,tickLower:r,tickUpper:a,liquidity:et(n.sqrtRatioX96,s,p,i,u,o)})},e.fromAmount0=function(t){return e.fromAmounts({pool:t.pool,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0:t.amount0,amount1:O,useFullPrecision:t.useFullPrecision})},e.fromAmount1=function(t){return e.fromAmounts({pool:t.pool,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0:O,amount1:t.amount1,useFullPrecision:!0})},k(e,[{key:"token0PriceLower",get:function(){return ut(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return ut(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this._token0Amount=V.fromRawAmount(this.pool.token0,this.pool.tickCurrent<this.tickLower?Ce.getAmount0Delta(qe.getSqrtRatioAtTick(this.tickLower),qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):this.pool.tickCurrent<this.tickUpper?Ce.getAmount0Delta(this.pool.sqrtRatioX96,qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):he)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this._token1Amount=V.fromRawAmount(this.pool.token1,this.pool.tickCurrent<this.tickLower?he:Ce.getAmount1Delta(qe.getSqrtRatioAtTick(this.tickLower),this.pool.tickCurrent<this.tickUpper?this.pool.sqrtRatioX96:qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:Ce.getAmount0Delta(qe.getSqrtRatioAtTick(this.tickLower),qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:he}:this.pool.tickCurrent<this.tickUpper?{amount0:Ce.getAmount0Delta(this.pool.sqrtRatioX96,qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:Ce.getAmount1Delta(qe.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:he,amount1:Ce.getAmount1Delta(qe.getSqrtRatioAtTick(this.tickLower),qe.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),e}();(ot=exports.ChainId||(exports.ChainId={}))[ot.MAINNET=1]="MAINNET",ot[ot.GOERLI=5]="GOERLI",ot[ot.SEPOLIA=11155111]="SEPOLIA",ot[ot.OPTIMISM=10]="OPTIMISM",ot[ot.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",ot[ot.ARBITRUM_ONE=42161]="ARBITRUM_ONE",ot[ot.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",ot[ot.POLYGON=137]="POLYGON",ot[ot.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",ot[ot.CELO=42220]="CELO",ot[ot.CELO_ALFAJORES=44787]="CELO_ALFAJORES",ot[ot.GNOSIS=100]="GNOSIS",ot[ot.MOONBEAM=1284]="MOONBEAM",ot[ot.BNB=56]="BNB",ot[ot.AVALANCHE=43114]="AVALANCHE",ot[ot.BASE_GOERLI=84531]="BASE_GOERLI",ot[ot.BASE=8453]="BASE",ot[ot.NOSTEST=42070]="NOSTEST",ot[ot.NOS=42213]="NOS";var pt,ct=[exports.ChainId.MAINNET,exports.ChainId.OPTIMISM,exports.ChainId.OPTIMISM_GOERLI,exports.ChainId.ARBITRUM_ONE,exports.ChainId.ARBITRUM_GOERLI,exports.ChainId.POLYGON,exports.ChainId.POLYGON_MUMBAI,exports.ChainId.GOERLI,exports.ChainId.SEPOLIA,exports.ChainId.CELO_ALFAJORES,exports.ChainId.CELO,exports.ChainId.BNB,exports.ChainId.AVALANCHE,exports.ChainId.BASE_GOERLI,exports.ChainId.NOSTEST,exports.ChainId.NOS];function lt(e,t){Number.isInteger(e)&&Number.isInteger(t)||s(!1),t>0||s(!1),e>=qe.MIN_TICK&&e<=qe.MAX_TICK||s(!1);var n=Math.round(e/t)*t;return n<qe.MIN_TICK?n+t:n>qe.MAX_TICK?n-t:n}(pt=exports.NativeCurrencyName||(exports.NativeCurrencyName={})).ETHER="ETH",pt.MATIC="MATIC",pt.CELO="CELO",pt.GNOSIS="XDAI",pt.MOONBEAM="GLMR",pt.BNB="BNB",pt.AVAX="AVAX",pt.TC="TC";var dt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WTC",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct UniswapV3Broker.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct UniswapV3Broker.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct UniswapV3Broker.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WTC",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"WTCArg",type:"address"}],name:"setWTC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWTC",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],yt=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],mt=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e}();mt.INTERFACE=new a.Interface(yt);var ft=[{inputs:[],name:"refundTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWTC",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWTCWithFee",outputs:[],stateMutability:"payable",type:"function"}],Tt=function(){function e(){}return e.encodeFeeBips=function(e){return K(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,n,r){if(n=F(n),r){var a=this.encodeFeeBips(r.fee),i=F(r.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[K(t),n,a,i])}return e.INTERFACE.encodeFunctionData("unwrapWETH9",[K(t),n])},e.encodeSweepToken=function(t,n,r,a){if(r=F(r),a){var i=this.encodeFeeBips(a.fee),u=F(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,K(n),r,i,u])}return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,K(n),r])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundTC")},e}();function ht(e,t){return u.ethers.utils.parseUnits(e.toString(),t)}function xt(e,t){return u.ethers.utils.formatUnits(e,t)}Tt.INTERFACE=new a.Interface(ft);var vt=["expectedCurrencyOwed0","expectedCurrencyOwed1"],bt=K(i.subtract(i.exponentiate(i.BigInt(2),i.BigInt(128)),i.BigInt(1)));function kt(e){return Object.keys(e).some((function(e){return"recipient"===e}))}var wt=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,K(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:K(0)}},e.encodeCollectById=function(t,n){var r=[];return r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:t,recipient:n,amount0Max:bt,amount1Max:bt}])),{calldata:mt.encodeMulticall(r),value:K(0)}},e.encodeIncrease=function(t,n,r,a,i,u){var o=[];return o.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:t,amount0Desired:n,amount1Desired:r,amount0Min:a,amount1Min:i,deadline:u}])),{calldata:mt.encodeMulticall(o),value:K(0)}},e.encodeRemoveLiqidity=function(t,n,r,a,i,u){var o=[];return o.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:t,liquidity:n,amount0Min:r,amount1Min:a,deadline:i}])),o.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:t,recipient:u,amount0Max:bt,amount1Max:bt}])),{calldata:mt.encodeMulticall(o),value:K(0)}},e.encodeRemovePosition=function(t){var n=[];return n.push(e.INTERFACE.encodeFunctionData("burn",[{tokenId:t}])),{calldata:mt.encodeMulticall(n),value:K(0)}},e.addCallParametersCreate=function(t,n,r,a,i,u,o,s,p,c,l,d,y){var m=[],f=K(0);if(t?(m.push(e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[r,a,n,l])),m.push(e.INTERFACE.encodeFunctionData("mint",[{token0:r,token1:a,fee:n,tickLower:o,tickUpper:s,amount0Desired:ht(i,18),amount1Desired:ht(u,18),amount0Min:p,amount1Min:c,recipient:d,deadline:y}]))):m.push(e.INTERFACE.encodeFunctionData("mint",[{token0:r,token1:a,fee:n,tickLower:o,tickUpper:s,amount0Desired:ht(i,18),amount1Desired:ht(u,18),amount0Min:p,amount1Min:c,recipient:d,deadline:y}])),r.toLowerCase()===exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase()||a.toLowerCase()===exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase()){var T=r.toLowerCase()===exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase()?ht(i,18):ht(u,18);T.gt(0)&&m.push(Tt.encodeRefundETH()),f=K(T.toString())}return{calldata:mt.encodeMulticall(m),value:f}},e.addCallParameters=function(t,n){i.greaterThan(t.liquidity,he)||s(!1);var r=[],a=t.mintAmounts,u=a.amount0,o=a.amount1,p=t.mintAmountsWithSlippage(n.slippageTolerance),c=K(p.amount0),l=K(p.amount1),d=K(n.deadline);if(kt(n)&&n.createPool&&r.push(this.encodeCreate(t.pool)),n.token0Permit&&r.push(Q.encodePermit(t.pool.token0,n.token0Permit)),n.token1Permit&&r.push(Q.encodePermit(t.pool.token1,n.token1Permit)),kt(n)){var y=F(n.recipient);r.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:K(u),amount1Desired:K(o),amount0Min:c,amount1Min:l,recipient:y,deadline:d}]))}else r.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:K(n.tokenId),amount0Desired:K(u),amount1Desired:K(o),amount0Min:c,amount1Min:l,deadline:d}]));var m=K(0);if(n.useNative){var f=n.useNative.wrapped;t.pool.token0.equals(f)||t.pool.token1.equals(f)||s(!1);var T=t.pool.token0.equals(f)?u:o;i.greaterThan(T,he)&&r.push(Tt.encodeRefundETH()),m=K(T)}return{calldata:mt.encodeMulticall(r),value:m}},e.encodeCollect=function(t){var n=[],r=K(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,i=F(t.recipient);if(n.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:r,recipient:a?N:i,amount0Max:bt,amount1Max:bt}])),a){var u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;n.push(Tt.encodeUnwrapWETH9(t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,i)),n.push(Tt.encodeSweepToken(u,o,i))}return n},e.collectCallParameters=function(t){var n=e.encodeCollect(t);return{calldata:mt.encodeMulticall(n),value:K(0)}},e.removeCallParameters=function(t,n){var r=[],a=K(n.deadline),u=K(n.tokenId),o=new st({pool:t.pool,liquidity:n.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});i.greaterThan(o.liquidity,he)||s(!1);var p=o.burnAmountsWithSlippage(n.slippageTolerance),c=p.amount0,l=p.amount1;n.permit&&r.push(e.INTERFACE.encodeFunctionData("permit",[F(n.permit.spender),u,K(n.permit.deadline),n.permit.v,n.permit.r,n.permit.s])),r.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:K(o.liquidity),amount0Min:K(c),amount1Min:K(l),deadline:a}]));var d=n.collectOptions,y=d.expectedCurrencyOwed0,m=d.expectedCurrencyOwed1,f=A(d,vt);return r.push.apply(r,e.encodeCollect(w({tokenId:K(n.tokenId),expectedCurrencyOwed0:y.add(V.fromRawAmount(y.currency,c)),expectedCurrencyOwed1:m.add(V.fromRawAmount(m.currency,l))},f))),n.liquidityPercentage.equalTo(xe)?n.burnToken&&r.push(e.INTERFACE.encodeFunctionData("burn",[u])):!0===n.burnToken&&s(!1),{calldata:mt.encodeMulticall(r),value:K(0)}},e.safeTransferFromParameters=function(t){var n=F(t.recipient),r=F(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[r,n,K(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[r,n,K(t.tokenId)]),value:K(0)}},e}();wt.INTERFACE=new a.Interface(dt);var gt,At,It,Ct=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"CollectProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid1",type:"uint256"}],name:"Flash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint16",name:"observationCardinalityNextOld",type:"uint16"},{indexed:!1,internalType:"uint16",name:"observationCardinalityNextNew",type:"uint16"}],name:"IncreaseObservationCardinalityNext",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Initialize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"feeProtocol0Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol0New",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1New",type:"uint8"}],name:"SetFeeProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"int256",name:"amount0",type:"int256"},{indexed:!1,internalType:"int256",name:"amount1",type:"int256"},{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Swap",type:"event"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collect",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collectProtocol",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"flash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"}],name:"increaseObservationCardinalityNext",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLiquidityPerTick",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32[]",name:"secondsAgos",type:"uint32[]"}],name:"observe",outputs:[{internalType:"int56[]",name:"tickCumulatives",type:"int56[]"},{internalType:"uint160[]",name:"secondsPerLiquidityCumulativeX128s",type:"uint160[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"_liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"feeProtocol0",type:"uint8"},{internalType:"uint8",name:"feeProtocol1",type:"uint8"}],name:"setFeeProtocol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint8",name:"feeProtocol",type:"uint8"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"snapshotCumulativesInside",outputs:[{internalType:"int56",name:"tickCumulativeInside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityInsideX128",type:"uint160"},{internalType:"uint32",name:"secondsInside",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bool",name:"zeroForOne",type:"bool"},{internalType:"int256",name:"amountSpecified",type:"int256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[{internalType:"int256",name:"amount0",type:"int256"},{internalType:"int256",name:"amount1",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int16",name:"wordPosition",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tickSpacing",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tick",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Et=new u.ethers.providers.JsonRpcProvider(exports.CurrentConfig.rpc),Ot=null;function St(){return ce.type===exports.WalletType.EXTENSION?At:gt.provider}function Rt(){return ce.type===exports.WalletType.EXTENSION?Ot:gt.address}function Nt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=v(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(t=At)?void 0:t.getSigner()){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,n.getAddress();case 5:return r=e.sent,console.log("signer address",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){return qt.apply(this,arguments)}function qt(){return(qt=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.type!==exports.WalletType.EXTENSION){e.next=6;break}return t.maxFeePerGas=null==(n=t.maxFeePerGas)?void 0:n.toString(),t.maxPriorityFeePerGas=null==(r=t.maxPriorityFeePerGas)?void 0:r.toString(),e.abrupt("return",Lt(t));case 6:return t.value&&(t.value=u.BigNumber.from(t.value)),e.abrupt("return",Gt(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.type!==exports.WalletType.EXTENSION){e.next=6;break}return t.maxFeePerGas=null==(n=t.maxFeePerGas)?void 0:n.toString(),t.maxPriorityFeePerGas=null==(r=t.maxPriorityFeePerGas)?void 0:r.toString(),e.abrupt("return",Ut(t));case 6:return t.value&&(t.value=u.BigNumber.from(t.value)),t.gasLimit=1e6,e.abrupt("return",Ht(t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(){return(Dt=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=null),t){e.next=6;break}if(window.ethereum){e.next=4;break}return e.abrupt("return",null);case 4:n=window,t=new u.ethers.providers.Web3Provider(n.ethereum);case 6:return e.next=8,t.send("eth_requestAccounts",[]);case 8:if(1===(r=e.sent).length){e.next=11;break}return e.abrupt("return");case 11:return e.abrupt("return",Ot=r[0]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==(n=At)?void 0:n.send("eth_sendTransaction",[t]);case 3:if(!(r=e.sent)){e.next=9;break}return console.log("Meta mask receipt ",r),e.abrupt("return",exports.TransactionState.Sent);case 9:return e.abrupt("return",exports.TransactionState.Failed);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Meta mask error ",e.t0),e.abrupt("return",exports.TransactionState.Rejected);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ut(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==(n=At)?void 0:n.send("eth_sendTransaction",[t]);case 3:if(!(r=e.sent)){e.next=9;break}return console.log("Meta mask receipt ",r),e.abrupt("return",[exports.TransactionState.Sent,r]);case 9:return e.abrupt("return",[exports.TransactionState.Failed,null]);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Meta mask error ",e.t0),e.abrupt("return",[exports.TransactionState.Rejected,null]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Gt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value&&(t.value=u.BigNumber.from(t.value)),e.next=3,gt.sendTransaction(t);case 3:if(n=e.sent,r=null,a=St()){e.next=8;break}return e.abrupt("return",exports.TransactionState.Failed);case 8:if(null!==r){e.next=24;break}return e.prev=9,e.next=12,a.getTransactionReceipt(n.hash);case 12:if(null!==(r=e.sent)){e.next=15;break}return e.abrupt("continue",8);case 15:console.log("Receipt recived:",r),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(9),console.log("Receipt error:",e.t0),e.abrupt("break",24);case 22:e.next=8;break;case 24:if(!r){e.next=28;break}return e.abrupt("return",exports.TransactionState.Sent);case 28:return e.abrupt("return",exports.TransactionState.Failed);case 29:case"end":return e.stop()}}),e,null,[[9,18]])})))).apply(this,arguments)}function Ht(e){return jt.apply(this,arguments)}function jt(){return(jt=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value&&(t.value=u.BigNumber.from(t.value)),e.next=3,gt.sendTransaction(t);case 3:if(n=e.sent,r=null,a=St()){e.next=8;break}return e.abrupt("return",[exports.TransactionState.Failed,null]);case 8:if(null!==r){e.next=24;break}return e.prev=9,e.next=12,a.getTransactionReceipt(n.hash);case 12:if(null!==(r=e.sent)){e.next=15;break}return e.abrupt("continue",8);case 15:console.log("Receipt recived:",r),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(9),console.log("Receipt error:",e.t0),e.abrupt("break",24);case 22:e.next=8;break;case 24:if(!r){e.next=28;break}return e.abrupt("return",[exports.TransactionState.Sent,r]);case 28:return e.abrupt("return",[exports.TransactionState.Failed,null]);case 29:case"end":return e.stop()}}),e,null,[[9,18]])})))).apply(this,arguments)}function Vt(e,t,n){return zt.apply(this,arguments)}function zt(){return(zt=v(h().mark((function e(t,n,r){var a,i,o,s,p,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=St()){e.next=3;break}throw new Error("No provider");case 3:return i=ke({factoryAddress:exports.CurrentConfig.POOL_FACTORY_CONTRACT_ADDRESS,tokenA:t,tokenB:n,fee:r}),o=new u.ethers.Contract(i,Ct,a),e.next=7,o.liquidity();case 7:return s=e.sent,e.next=10,o.slot0();case 10:return c=new Ge(t,n,r,(p=e.sent)[0].toString(),s.toString(),p[1]),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e,t,n){return Qt.apply(this,arguments)}function Qt(){return(Qt=v(h().mark((function e(t,n,r){var a,i,o,s,p,c,l,d,y,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=St()){e.next=3;break}throw new Error("No provider");case 3:return i=ke({factoryAddress:exports.CurrentConfig.POOL_FACTORY_CONTRACT_ADDRESS,tokenA:t,tokenB:n,fee:r}),console.log("param",{factoryAddress:exports.CurrentConfig.POOL_FACTORY_CONTRACT_ADDRESS,tokenA:t,tokenB:n,fee:r}),o=new u.ethers.Contract(i,Ct,a),e.next=8,Promise.all([o.token0(),o.token1(),o.fee(),o.tickSpacing(),o.liquidity(),o.slot0()]);case 8:return p=(s=e.sent)[0],c=s[1],l=s[2],d=s[3],y=s[4],m=s[5],console.log("vao day 6"),e.abrupt("return",{token0:p,token1:c,fee:l,tickSpacing:d,liquidity:y,sqrtPriceX96:m[0],tick:m[1]});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t){if(e.length!=t.length+1)throw new Error("path/fee lengths do not match");for(var n="0x",r=0;r<t.length;r++)n+=e[r].slice(2),n+=t[r].toString(16).padStart(6,"0");return(n+=e[e.length-1].slice(2)).toLowerCase()}function Jt(){return(Jt=v(h().mark((function e(t,n,r){var a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isNative&&r.address.toLowerCase()!=exports.CurrentConfig.TC_CONTRACT_ADDRESS.toLowerCase()){e.next=6;break}return e.t0=u.ethers.utils,e.next=4,t.getBalance(n);case 4:return e.t1=e.sent,e.abrupt("return",e.t0.formatEther.call(e.t0,e.t1));case 6:return a=new u.ethers.Contract(r.address,_,t),e.next=9,a.balanceOf(n);case 9:return i=e.sent,e.next=12,a.decimals();case 12:return e.abrupt("return",xt(i,e.sent));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t,n){return Zt.apply(this,arguments)}function Zt(){return(Zt=v(h().mark((function e(t,n,r){var a,i,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isNative){e.next=2;break}return e.abrupt("return",-1);case 2:return console.log("address",n),a=new u.ethers.Contract(r.address,_,t),e.next=6,a.allowance(n,exports.CurrentConfig.SWAP_ROUTER_ADDRESS);case 6:return i=e.sent,console.log("address1",n),e.next=10,a.decimals();case 10:return o=e.sent,console.log("amountAprrove",i),e.abrupt("return",Number(xt(i,o)));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(){return(en=v(h().mark((function e(t){var n,r,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=St(),r=Rt(),n&&r){e.next=4;break}throw new Error("Cannot wrap ETH without a provider and wallet address");case 4:return a=new u.ethers.Contract(exports.CurrentConfig.WETH_CONTRACT_ADDRESS,q,n),o={data:a.interface.encodeFunctionData("deposit"),value:u.BigNumber.from(Math.ceil(t)).mul(i.exponentiate(i.BigInt(10),i.BigInt(18)).toString()).toString(),from:r,to:exports.CurrentConfig.WETH_CONTRACT_ADDRESS,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},e.next=8,_t(o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(){return(tn=v(h().mark((function e(t){var n,r,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=St(),r=Rt(),n&&r){e.next=4;break}throw new Error("Cannot unwrap ETH without a provider and wallet address");case 4:return a=new u.ethers.Contract(exports.CurrentConfig.WETH_CONTRACT_ADDRESS,q,n),o={data:a.interface.encodeFunctionData("withdraw",[u.BigNumber.from(Math.ceil(t)).mul(i.exponentiate(i.BigInt(10),i.BigInt(18)).toString()).toString()]),from:r,to:exports.CurrentConfig.WETH_CONTRACT_ADDRESS,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},e.next=8,_t(o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(It=exports.TransactionState||(exports.TransactionState={})).Failed="Failed",It.New="New",It.Rejected="Rejected",It.Sending="Sending",It.Sent="Sent";var nn=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"V3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],rn=["method","data"],an=function e(t){return Boolean(t)&&!m.isEmpty(t)&&Array.isArray(t)?t.map((function(t){return e(t)})):Boolean(t)&&null!==t&&t.constructor===Object?Object.keys(t).reduce((function(n,r){var a;return w({},n,((a={})[f(r)]=e(t[r]),a))}),{}):t},un=function(){var e=v(h().mark((function e(t,n){var r,a,i,u,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.method,a=n.data,i=A(n,rn),e.prev=1,e.next=4,T.request(w({url:t,method:r,data:a},i));case 4:return e.abrupt("return",an((null==(s=e.sent)||null==(u=s.data)?void 0:u.data)||(null==s||null==(o=s.data)?void 0:o.result)));case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}();function on(e,t){return sn.apply(this,arguments)}function sn(){return(sn=v(h().mark((function e(t,n){var r,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,fetch(exports.CurrentConfig.API_ROOT+"/api/swap/token/route/v2?network=nos&from_token="+t+"&to_token="+n).then((function(e){return e.json()}));case 4:for(a=e.sent,i=0;i<a.data.length;i++)r.push(a.data[i]);e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.finish(10);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))).apply(this,arguments)}var pn=function(){var e=v(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?"+new URLSearchParams(t).toString(),e.abrupt("return",un(exports.CurrentConfig.API_ROOT+"/api/swap/token/list/v1"+n,{method:"GET",error:"Fail to get tokens data"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cn=function(){var e=v(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?"+new URLSearchParams(t).toString(),e.abrupt("return",un(exports.CurrentConfig.API_ROOT+"/api/swap/token/route/v2"+n,{method:"GET",error:"Fail to get route"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=[];function dn(e,t){for(var n=-1,r=0;r<e.length;r++)e[r].address.toLowerCase()==t.toLowerCase()&&(n=r);return n}var yn=function(){var e=v(h().mark((function e(t,n,r){var a,o,s,p,c,l,d,y,m,f,T,x,b,k,w,g,A,I,E,O,S,R,N,P,_,q;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=[]),void 0===r&&(r=[]),e.prev=2,a=St()){e.next=6;break}throw new Error("No provider");case 6:if(o=new u.ethers.Contract(exports.CurrentConfig.QUOTER_CONTRACT_ADDRESS,nn,a),s=[],null!=n&&0!=n.length){e.next=13;break}return p={from_token:exports.tokenSwap.in.address,to_token:exports.tokenSwap.out.address,network:"nos"},e.next=12,cn(p);case 12:n=e.sent;case 13:if(0!=r.length){e.next=18;break}return e.next=16,pn({limit:500,page:1,is_test:exports.CurrentConfig.env==exports.Environment.TESTNET?"1":"",network:"nos"});case 16:r=(c=e.sent)?an(c):[];case 18:for(l=[],d=C(n);!(y=d()).done;)(null==(m=x=y.value)?void 0:m.pathPairs.length)>0&&(Number(null==(f=x)?void 0:f.pathPairs[0].reserve0)>1e-6||Number(null==(T=x)?void 0:T.pathPairs[0].reserve1)>1e-6)&&l.push(x);return b=l.map(function(){var e=v(h().mark((function e(n){var r,i,s,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null==n||null==(r=n.pathTokens)?void 0:r.map((function(e){return e.address})),p=null==n||null==(i=n.pathPairs)?void 0:i.map((function(e){return Number(e.fee)})),e.next=4,o.connect(a).callStatic.quoteExactInput(Yt(s,p),u.ethers.utils.parseEther(t.toString()));case 4:return e.abrupt("return",Number(e.sent.amountOut.toString()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=23,Promise.all(b);case 23:k=e.sent,console.log("res",k),w=Math.max.apply(Math,k),g=k.indexOf(w),I=C((A=l[g]).pathPairs);case 29:if((E=I()).done){e.next=41;break}return S=dn(r,(O=E.value).token0),R=new ie(1,r[S].address,Number(r[S].decimal),r[S].symbol,r[S].symbol),N=dn(r,O.token1),P=new ie(1,r[N].address,Number(r[N].decimal),r[N].symbol,r[N].symbol),e.next=37,Vt(R,P,parseInt(O.fee));case 37:s.push(e.sent);case 39:e.next=29;break;case 41:return _=new We(s,exports.tokenSwap.in,exports.tokenSwap.out),q=Qe.createUncheckedTrade({route:_,inputAmount:V.fromRawAmount(exports.tokenSwap.in,ht(exports.tokenSwap.amountIn,exports.tokenSwap.in.decimals).toString()),outputAmount:V.fromRawAmount(exports.tokenSwap.out,i.BigInt(w)),tradeType:exports.TradeType.EXACT_INPUT}),e.abrupt("return",[w,A,q,w.toLocaleString("fullwide",{useGrouping:!1})]);case 46:e.prev=46,e.t0=e.catch(2);case 48:return e.prev=48,e.finish(48);case 50:return e.abrupt("return",[-1]);case 51:case"end":return e.stop()}}),e,null,[[2,46,48,50]])})));return function(t,n,r){return e.apply(this,arguments)}}(),mn=function(){var e=v(h().mark((function e(t,n,r){var a,o,s,p,c,l,d,y,m,f,T,x,b,k,w,g,A,I,E,O,S,R,N,P,_,q;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=[]),void 0===r&&(r=[]),e.prev=2,a=St()){e.next=6;break}throw new Error("No provider");case 6:if(o=new u.ethers.Contract(exports.CurrentConfig.QUOTER_CONTRACT_ADDRESS,nn,a),s=[],null!=n&&0!=n.length){e.next=13;break}return p={from_token:exports.tokenSwap.in.address,to_token:exports.tokenSwap.out.address,network:"nos"},e.next=12,cn(p);case 12:n=e.sent;case 13:if(null!=r&&0!=r.length){e.next=18;break}return e.next=16,pn({limit:500,page:1,is_test:exports.CurrentConfig.env==exports.Environment.TESTNET?"1":"",network:"nos"});case 16:r=(c=e.sent)?an(c):[];case 18:for(l=[],d=C(n);!(y=d()).done;)(null==(m=x=y.value)?void 0:m.pathPairs.length)>0&&(Number(null==(f=x)?void 0:f.pathPairs[0].reserve0)>1e-6||Number(null==(T=x)?void 0:T.pathPairs[0].reserve1)>1e-6)&&l.push(x);return b=l.map(function(){var e=v(h().mark((function e(n){var r,i,s,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null==n||null==(r=n.pathTokens)?void 0:r.map((function(e){return e.address})),p=null==n||null==(i=n.pathPairs)?void 0:i.map((function(e){return Number(e.fee)})),s=s.reverse(),p=p.reverse(),e.next=6,o.connect(a).callStatic.quoteExactOutput(Yt(s,p),u.ethers.utils.parseEther(t.toString()));case 6:return e.abrupt("return",Number(e.sent.amountIn.toString()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=23,Promise.all(b);case 23:k=e.sent,console.log("res",k),w=Math.min.apply(Math,k),g=k.indexOf(w),I=C((A=l[g]).pathPairs);case 29:if((E=I()).done){e.next=41;break}return S=dn(r,(O=E.value).token0),R=new ie(1,r[S].address,Number(r[S].decimal),r[S].symbol,r[S].symbol),N=dn(r,O.token1),P=new ie(1,r[N].address,Number(r[N].decimal),r[N].symbol,r[N].symbol),e.next=37,Vt(R,P,parseInt(O.fee));case 37:s.push(e.sent);case 39:e.next=29;break;case 41:return _=new We(s,exports.tokenSwap.in,exports.tokenSwap.out),q=Qe.createUncheckedTrade({route:_,inputAmount:V.fromRawAmount(exports.tokenSwap.in,i.BigInt(w)),outputAmount:V.fromRawAmount(exports.tokenSwap.out,ht(t,exports.tokenSwap.in.decimals).toString()),tradeType:exports.TradeType.EXACT_OUTPUT}),e.abrupt("return",[w,A,q]);case 46:e.prev=46,e.t0=e.catch(2);case 48:return e.prev=48,e.finish(48);case 50:return e.abrupt("return",[-1]);case 51:case"end":return e.stop()}}),e,null,[[2,46,48,50]])})));return function(t,n,r){return e.apply(this,arguments)}}();function fn(){return(fn=v(h().mark((function e(){var t,n,r,a,o,s,p,c,l,d,y,m,f,T,x,b,k;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=St()){e.next=3;break}throw new Error("No provider");case 3:return n=new u.ethers.Contract(exports.CurrentConfig.QUOTER_CONTRACT_ADDRESS,nn,t),e.next=6,on(exports.tokenSwap.in.address,exports.tokenSwap.out.address);case 6:return a=[],o=(r=e.sent).map(function(){var e=v(h().mark((function e(r){var a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.path_tokens.map((function(e){return e.address})),i=r.path_pairs.map((function(e){return Number(e.fee)})),e.next=4,n.connect(t).callStatic.quoteExactInput(Yt(a,i),u.ethers.utils.parseEther(exports.tokenSwap.amountIn.toString()));case 4:return e.abrupt("return",Number(e.sent.amountOut.toString()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,Promise.all(o);case 11:s=e.sent,p=Math.max.apply(Math,s),c=s.indexOf(p),l=C(r[c].path_pairs);case 16:if((d=l()).done){e.next=28;break}return m=dn(ln,(y=d.value).token0),f=new ie(1,ln[m].address,ln[m].decimal,ln[m].symbol,ln[m].symbol),T=dn(ln,y.token1),x=new ie(1,ln[T].address,ln[T].decimal,ln[T].symbol,ln[T].symbol),e.next=24,Vt(f,x,parseInt(y.fee));case 24:a.push(e.sent);case 26:e.next=16;break;case 28:return b=new We(a,exports.tokenSwap.in,exports.tokenSwap.out),k=Qe.createUncheckedTrade({route:b,inputAmount:V.fromRawAmount(exports.tokenSwap.in,ht(exports.tokenSwap.amountIn,exports.tokenSwap.in.decimals).toString()),outputAmount:V.fromRawAmount(exports.tokenSwap.out,i.BigInt(p)),tradeType:exports.TradeType.EXACT_INPUT}),e.abrupt("return",k);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(){return(Tn=v(h().mark((function e(t,n,r){var a,i,u,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=null),(a=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=6;break}return e.next=5,Nt();case 5:a=e.sent;case 6:if(a){e.next=8;break}throw new Error("Cannot execute a trade without a connected wallet");case 8:return r=null!=r&&""!=r?r:a,i={slippageTolerance:new ze(n,1e4),deadline:Math.floor(Date.now()/1e3)+1200,recipient:r},u=le.swapCallParameters([t],i),o={data:u.calldata,to:exports.CurrentConfig.SWAP_ROUTER_ADDRESS,value:u.value,from:a},e.next=14,Mt(o);case 14:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(){return(hn=v(h().mark((function e(t){var n,r,a,i,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rt(),r=St(),n&&r){e.next=4;break}throw new Error("Cannot execute a trade without a connected wallet");case 4:return a={slippageTolerance:new ze(50,1e4),deadline:Math.floor(Date.now()/1e3)+1200,recipient:n},i=le.swapCallParameters([t],a),u={data:i.calldata,to:exports.CurrentConfig.SWAP_ROUTER_ADDRESS,value:i.value,from:n},e.next=9,_t(u);case 9:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(){return(xn=v(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=St(),r=Rt(),n&&r){e.next=5;break}return console.log("No Provider Found"),e.abrupt("return",-1);case 5:return e.next=7,$t(n,r,t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(){return(vn=v(h().mark((function e(t,n){var r,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=2e3),r=St(),a=Rt(),r&&a){e.next=6;break}return console.log("No Provider Found"),e.abrupt("return",exports.TransactionState.Failed);case 6:return e.prev=6,i=new u.ethers.Contract(t.address,_,r),e.next=10,i.populateTransaction.approve(exports.CurrentConfig.SWAP_ROUTER_ADDRESS,ht(n,t.decimals).toString());case 10:return e.abrupt("return",_t(w({},e.sent,{from:a})));case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",exports.TransactionState.Failed);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}var bn=function(){var e=v(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=exports.CurrentConfig.rpc)){e.next=7;break}return n=new u.ethers.providers.JsonRpcProvider(t),e.next=5,n.getGasPrice();case 5:return r=e.sent,e.abrupt("return",Number(null==r?void 0:r.toString()));case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function kn(e,t){var n,r=Math.pow(10,(n=e,Math.floor(n)===n?0:n.toString().split(".")[1].length||0));return i.divide(i.multiply(i.BigInt(e*r),i.exponentiate(i.BigInt(10),i.BigInt(t))),i.BigInt(r))}var wn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint24",name:"fee",type:"uint24"},{indexed:!0,internalType:"int24",name:"tickSpacing",type:"int24"}],name:"FeeAmountEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token0",type:"address"},{indexed:!0,internalType:"address",name:"token1",type:"address"},{indexed:!0,internalType:"uint24",name:"fee",type:"uint24"},{indexed:!1,internalType:"int24",name:"tickSpacing",type:"int24"},{indexed:!1,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"feeProtocol0Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol0New",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1New",type:"uint8"}],name:"SetFeeProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"feeToOld",type:"address"},{indexed:!1,internalType:"address",name:"feeTo",type:"address"}],name:"SetFeeTo",type:"event"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"createPool",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickSpacing",type:"int24"}],name:"enableFeeAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24",name:"",type:"uint24"}],name:"feeAmountTickSpacing",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeProtocol",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeTo",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint24",name:"",type:"uint24"}],name:"getPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUniswapV3PoolImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"parameters",outputs:[{internalType:"address",name:"factory",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickSpacing",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"feeProtocol0",type:"uint8"},{internalType:"uint8",name:"feeProtocol1",type:"uint8"}],name:"setFeeProtocol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"feeToArg",type:"address"}],name:"setFeeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"uniswapV3PoolImplementationArg",type:"address"}],name:"setUniswapV3PoolImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],gn=["method","data"],An=function(){var e=v(h().mark((function e(t,n){var r,a,i,u,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.method,a=n.data,i=A(n,gn),e.prev=1,e.next=4,T.request(w({url:t,method:r,data:a},i));case 4:return e.abrupt("return",an((null==(s=e.sent)||null==(u=s.data)?void 0:u.data)||(null==s||null==(o=s.data)?void 0:o.result)));case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),In=function(){var e=v(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(exports.CurrentConfig.API_ROOT+"/api/swap/pair/apr/list?limit=100&network=nos&page=1&address="+t,{method:"GET",error:"Fail to get list liquidity"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cn=function(){var e=v(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(exports.CurrentConfig.API_ROOT+"/api/token-explorer/tokens?limit="+t.toString()+"&network=nos&page=1",{method:"GET",error:"Fail to get tokens data"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),En=function(){var e=v(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(exports.CurrentConfig.API_ROOT+"/api/swap-v3/pool/user-position/"+t,{method:"GET",error:"Fail to get list user positions"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function On(){return(On=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:n=e.sent;case 5:if(n){e.next=7;break}return e.abrupt("return",exports.TransactionState.Failed);case 7:return r=wt.encodeCollectById(t,n),a={data:r.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:r.value,from:n},e.next=11,Mt(a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(){return(Sn=v(h().mark((function e(t,n,r,a,i,u){var o,s,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:o=e.sent;case 5:if(o){e.next=7;break}return e.abrupt("return",exports.TransactionState.Failed);case 7:return s=wt.encodeIncrease(t,n,r,a,i,u),p={data:s.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:s.value,from:o},e.next=11,Mt(p);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(){return(Rn=v(h().mark((function e(t,n,r,a,i){var u,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:u=e.sent;case 5:if(u){e.next=7;break}return e.abrupt("return",exports.TransactionState.Failed);case 7:return o=wt.encodeRemoveLiqidity(t,n,r,a,i,u),s={data:o.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:o.value,from:u},e.next=11,Mt(s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(){return(Nn=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:n=e.sent;case 5:if(n){e.next=7;break}return e.abrupt("return",exports.TransactionState.Failed);case 7:return r=wt.encodeRemovePosition(t),a={data:r.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:r.value,from:n},e.next=11,Mt(a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(){return(Pn=v(h().mark((function e(t,n,r,a,i,u,o,s,p,c,l,d){var y,m,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((y=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:y=e.sent;case 5:if(y){e.next=7;break}return e.abrupt("return",exports.TransactionState.Failed);case 7:return m=wt.addCallParametersCreate(t,n,r,a,i,u,o,s,p,c,l,y,d),f={data:m.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:m.value,from:y},e.next=11,Mt(f);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(){return(_n=v(h().mark((function e(t){var n,r,a,i,u,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rt(),r=St(),n&&r){e.next=4;break}return e.abrupt("return",exports.TransactionState.Failed);case 4:return e.next=6,Ln(V.fromRawAmount(se.token0,kn(se.token0Amount*se.fractionToAdd,se.token0.decimals)),V.fromRawAmount(se.token1,kn(se.token1Amount*se.fractionToAdd,se.token1.decimals)));case 6:return a=e.sent,i={deadline:Math.floor(Date.now()/1e3)+1200,slippageTolerance:new ze(50,1e4),tokenId:t},u=wt.addCallParameters(a,i),o={data:u.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:u.value,from:n,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},e.abrupt("return",_t(o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(){return(qn=v(h().mark((function e(t){var n,r,a,i,u,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rt(),r=St(),n&&r){e.next=4;break}return e.abrupt("return",exports.TransactionState.Failed);case 4:return e.next=6,Ln(V.fromRawAmount(se.token0,kn(se.token0Amount,se.token0.decimals)),V.fromRawAmount(se.token1,kn(se.token1Amount,se.token1.decimals)));case 6:return a=e.sent,i={expectedCurrencyOwed0:V.fromRawAmount(se.token0,0),expectedCurrencyOwed1:V.fromRawAmount(se.token1,0),recipient:n},u={deadline:Math.floor(Date.now()/1e3)+1200,slippageTolerance:new ze(50,1e4),tokenId:t,liquidityPercentage:new ze(se.fractionToRemove),collectOptions:i},o=wt.removeCallParameters(a,u),s={data:o.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:o.value,from:n,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},e.abrupt("return",_t(s));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(){return(Mn=v(h().mark((function e(){var t,n,r,a,i,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=St(),n=Rt(),t&&n){e.next=4;break}throw new Error("No provider available");case 4:return r=new u.ethers.Contract(exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,M,t),e.next=7,r.balanceOf(n);case 7:a=e.sent,i=[],o=0;case 10:if(!(o<a)){e.next=18;break}return e.next=13,r.tokenOfOwnerByIndex(n,o);case 13:i.push(e.sent);case 15:o++,e.next=10;break;case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(){return(Fn=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=St()){e.next=3;break}throw new Error("No provider available");case 3:return r=new u.ethers.Contract(exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,M,n),e.next=6,r.positions(t);case 6:return e.abrupt("return",{tickLower:(a=e.sent).tickLower,tickUpper:a.tickUpper,liquidity:a.liquidity,feeGrowthInside0LastX128:a.feeGrowthInside0LastX128,feeGrowthInside1LastX128:a.feeGrowthInside1LastX128,tokensOwed0:a.tokensOwed0,tokensOwed1:a.tokensOwed1});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(){return(Dn=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=St(),r=Rt(),n&&r){e.next=5;break}return console.log("No Provider Found"),e.abrupt("return",exports.TransactionState.Failed);case 5:return e.prev=5,a=new u.ethers.Contract(t.address,_,n),e.next=9,a.populateTransaction.approve(exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,2e3);case 9:return e.abrupt("return",_t(w({},e.sent,{from:r})));case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",exports.TransactionState.Failed);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function Ln(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=v(h().mark((function e(t,n){var r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(se.token0,se.token1,se.poolFee);case 2:return a=new Ge(t.currency,n.currency,(r=e.sent).fee,r.sqrtPriceX96.toString(),r.liquidity.toString(),r.tick),e.abrupt("return",st.fromAmounts({pool:a,tickLower:lt(r.tick,r.tickSpacing)-2*r.tickSpacing,tickUpper:lt(r.tick,r.tickSpacing)+2*r.tickSpacing,amount0:t.quotient,amount1:n.quotient,useFullPrecision:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(){return(Un=v(h().mark((function e(){var t,n,r,a,i,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rt(),n=St(),t&&n){e.next=4;break}return e.abrupt("return",exports.TransactionState.Failed);case 4:return e.next=6,Ln(V.fromRawAmount(se.token0,kn(se.token0Amount,se.token0.decimals)),V.fromRawAmount(se.token1,kn(se.token1Amount,se.token1.decimals)));case 6:return r=e.sent,a={recipient:t,deadline:Math.floor(Date.now()/1e3)+1200,slippageTolerance:new ze(50,1e4)},i=wt.addCallParameters(r,a),u={data:i.calldata,to:exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,value:i.value,from:t,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},e.abrupt("return",_t(u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(){return(Xn=v(h().mark((function e(t){var n,r,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:n=e.sent;case 5:if((r=St())&&n){e.next=8;break}throw new Error("No provider or address");case 8:return a=new u.ethers.Contract(exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,dt,r),e.next=11,a.connect(r).callStatic.collect({tokenId:t,recipient:n,amount0Max:S,amount1Max:S});case 11:return e.abrupt("return",[(i=e.sent).amount0.toString(),i.amount1.toString()]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){return(Gn=v(h().mark((function e(t,n,r){var a,i,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:a=e.sent;case 5:if((i=St())&&a){e.next=8;break}throw new Error("No provider or address");case 8:return o=new u.ethers.Contract(exports.CurrentConfig.POOL_FACTORY_CONTRACT_ADDRESS,wn,i),e.next=11,o.connect(i).callStatic.getPool(t,n,r);case 11:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(){return(Wn=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:n=e.sent;case 5:if((r=St())&&n){e.next=8;break}throw new Error("No provider or address");case 8:return a=new u.ethers.Contract(t,Ct,r),e.next=11,a.connect(r);case 11:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return(Hn=v(h().mark((function e(t){var n,r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rt())||ce.type!==exports.WalletType.EXTENSION){e.next=5;break}return e.next=4,Nt();case 4:n=e.sent;case 5:if((r=St())&&n){e.next=8;break}throw new Error("No provider or address");case 8:return a=new u.ethers.Contract(exports.CurrentConfig.NONFUNGIBLE_POSITION_MANAGER_CONTRACT_ADDRESS,dt,r),e.next=11,a.connect(r).callStatic.tokenURI(t);case 11:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.ADDRESS_ZERO=N,exports.CollectFeeeById=function(e){return On.apply(this,arguments)},exports.CurrencyAmount=V,exports.CurrentWallet=ce,exports.DEFAULT_GAS_PRICE=1e9,exports.ERC20_ABI=_,exports.FACTORY_ADDRESS="0x9D921bF7460d1FcfF77d88edd4D34cD1e2F56BDc",exports.Fraction=H,exports.FullMath=ge,exports.LiquidityMath=we,exports.MAX_FEE_PER_GAS=1e11,exports.MAX_PRIORITY_FEE_PER_GAS=1e11,exports.MaxUint128=S,exports.MaxUint256=O,exports.NONFUNGIBLE_POSITION_MANAGER_ABI=M,exports.NativeCurrency=Ye,exports.NoTickDataProvider=Me,exports.NonfungiblePositionManager=wt,exports.POOL_INIT_CODE_HASH=P,exports.Percent=ze,exports.Pool=Ge,exports.Position=st,exports.Price=fe,exports.Route=We,exports.SUPPORTED_CHAINS=ct,exports.SelfPermit=Q,exports.SqrtPriceMath=Ce,exports.SwapMath=Oe,exports.SwapQuoter=me,exports.SwapRouter=le,exports.TICK_SPACINGS=R,exports.TOKEN_AMOUNT_TO_APPROVE_FOR_TRANSFER=2e3,exports.Tick=Be,exports.TickList=Le,exports.TickListDataProvider=Ue,exports.TickMath=qe,exports.Token=ie,exports.Trade=Qe,exports.WETH_ABI=q,exports.addLiquidity=function(e){return _n.apply(this,arguments)},exports.addLiquidityIncludeCreatePool=function(e,t,n,r,a,i,u,o,s,p,c,l){return Pn.apply(this,arguments)},exports.camelCaseKeys=an,exports.changeWallet=function(e,t,n){ce.address=t,ce.privateKey=n,ce.type=e},exports.choiceConFig=function(e){e==exports.Environment.TESTNET?exports.CurrentConfig=ue:e==exports.Environment.MAINNET&&(exports.CurrentConfig=oe),pe()},exports.computePoolAddress=ke,exports.connectBrowserExtensionWallet=function(e){return Dt.apply(this,arguments)},exports.constructPosition=Ln,exports.createTrade=function(){return fn.apply(this,arguments)},exports.decreaseLiquidity=function(e,t,n,r,a){return Rn.apply(this,arguments)},exports.displayTrade=function(e){return e.inputAmount.toExact()+" "+e.inputAmount.currency.symbol+" for "+e.outputAmount.toExact()+" "+e.outputAmount.currency.symbol},exports.encodePath=Yt,exports.encodeRouteToPath=Y,exports.executeTrade=function(e){return hn.apply(this,arguments)},exports.executeTradeSlippage=function(e,t,n){return Tn.apply(this,arguments)},exports.formatPriceToPriceSqrt=function(e){console.log("price",e),alert("vao day 5");var t=u.BigNumber.from(new y(e.toString()).sqrt().multipliedBy(new y(2).pow(96)).integerValue(3).toString());return alert("vao day 6"),t},exports.fromReadableAmount=ht,exports.geSignerAddress=Nt,exports.getBestRouteExactIn=yn,exports.getBestRouteExactOut=mn,exports.getCurrencyApproveRouter=$t,exports.getCurrencyBalance=function(e,t,n){return Jt.apply(this,arguments)},exports.getDefaultGasPrice=function(){return 1e9*m.random(35,45)},exports.getEarnedFee=function(e){return Xn.apply(this,arguments)},exports.getGasFee=bn,exports.getListLiquidity=In,exports.getListRoute=on,exports.getMainnetProvider=function(){return Et},exports.getPoolAddress=function(e,t,n){return Gn.apply(this,arguments)},exports.getPoolFromAddress=function(e){return Wn.apply(this,arguments)},exports.getPoolInfo=Kt,exports.getPoolInfoByToken=Vt,exports.getPositionDetail=En,exports.getPositionIds=function(){return Mn.apply(this,arguments)},exports.getPositionImage=function(e){return Hn.apply(this,arguments)},exports.getPositionInfo=function(e){return Fn.apply(this,arguments)},exports.getProvider=St,exports.getSwapRoutesV2=cn,exports.getSwapTokensV1=pn,exports.getTokenTransferApprovalPosition=function(e){return Dn.apply(this,arguments)},exports.getTokenTransferApprovalSwap=function(e){return xn.apply(this,arguments)},exports.getTokens=Cn,exports.getWalletAddress=Rt,exports.gettokenIndex=dn,exports.increaseLiquidity=function(e,t,n,r,a,i){return Sn.apply(this,arguments)},exports.isSorted=Fe,exports.mainnetConfig=oe,exports.mintPosition=function(){return Un.apply(this,arguments)},exports.mostSignificantBit=Ne,exports.nearestUsableTick=lt,exports.refreshProvider=function(e){Et=new u.ethers.providers.JsonRpcProvider(exports.CurrentConfig.rpc),ce.type==exports.WalletType.PRIVATEKEY&&""!=ce.privateKey?gt=new u.ethers.Wallet(ce.privateKey,Et):ce.type==exports.WalletType.EXTENSION&&(e||(e=function(){try{var e;return new u.ethers.providers.Web3Provider(null==(e=window)?void 0:e.ethereum,"any")}catch(e){return console.log("No Wallet Extension Found"),null}}()),At=e)},exports.removeLiquidity=function(e){return qn.apply(this,arguments)},exports.removePosition=function(e){return Nn.apply(this,arguments)},exports.resetTOkenSwap=pe,exports.sendTransaction=_t,exports.sendTransactionGetReceipt=Mt,exports.sendTransactionViaExtensionGetReceipt=Ut,exports.setTOkenIn=function(e){exports.tokenSwap.in=e},exports.setTOkenOut=function(e){exports.tokenSwap.out=e},exports.setTOkenSwap=function(e,t,n,r){exports.tokenSwap={in:e,amountIn:t,out:n,poolFee:r}},exports.setTokens=function(e){ln=[].concat(e)},exports.sortedInsert=He,exports.swrFetcher=un,exports.testnetConfig=ue,exports.toHex=K,exports.toReadableAmount=xt,exports.tokenLiquidity=se,exports.tokenTransferApproval=function(e,t){return vn.apply(this,arguments)},exports.tradeComparator=Ke,exports.unwrapETH=function(e){return tn.apply(this,arguments)},exports.validateAndParseAddress=F,exports.wrapETH=function(e){return en.apply(this,arguments)};
//# sourceMappingURL=trustless-swap-sdk.cjs.production.min.js.map
